<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>blancas.eisen.trans documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Eisen 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="blancas.eisen.clojure.html"><span>blancas.eisen.clojure</span></a></li><li><a href="blancas.eisen.core.html"><span>blancas.eisen.core</span></a></li><li><a href="blancas.eisen.parser.html"><span>blancas.eisen.parser</span></a></li><li class="current"><a href="blancas.eisen.trans.html"><span>blancas.eisen.trans</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="blancas.eisen.trans.html#var-add-auto-decl"><span>add-auto-decl</span></a></li><li><a href="blancas.eisen.trans.html#var-add-decl-trans"><span>add-decl-trans</span></a></li><li><a href="blancas.eisen.trans.html#var-add-expr-trans"><span>add-expr-trans</span></a></li><li><a href="blancas.eisen.trans.html#var-clazz%3F"><span>clazz?</span></a></li><li><a href="blancas.eisen.trans.html#var-code-hook"><span>code-hook</span></a></li><li><a href="blancas.eisen.trans.html#var-conj-rev"><span>conj-rev</span></a></li><li><a href="blancas.eisen.trans.html#var-error"><span>error</span></a></li><li><a href="blancas.eisen.trans.html#var-eval-ast"><span>eval-ast</span></a></li><li><a href="blancas.eisen.trans.html#var-exp"><span>exp</span></a></li><li><a href="blancas.eisen.trans.html#var-fun-binding"><span>fun-binding</span></a></li><li><a href="blancas.eisen.trans.html#var-fun-binding-letrec"><span>fun-binding-letrec</span></a></li><li><a href="blancas.eisen.trans.html#var-function%3F"><span>function?</span></a></li><li><a href="blancas.eisen.trans.html#var-make-ref"><span>make-ref</span></a></li><li><a href="blancas.eisen.trans.html#var-trans"><span>trans</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-ast"><span>trans-ast</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-binding"><span>trans-binding</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-binding-letrec"><span>trans-binding-letrec</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-bindings"><span>trans-bindings</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-binop"><span>trans-binop</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-cond"><span>trans-cond</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-expr"><span>trans-expr</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-exprs"><span>trans-exprs</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-fun"><span>trans-fun</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-funcall"><span>trans-funcall</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-funlit"><span>trans-funlit</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-fwd"><span>trans-fwd</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-idarg"><span>trans-idarg</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-identifier"><span>trans-identifier</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-imp"><span>trans-imp</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-let"><span>trans-let</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-letrec"><span>trans-letrec</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-macrocall"><span>trans-macrocall</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-mod"><span>trans-mod</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-setqex"><span>trans-setqex</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-setvex"><span>trans-setvex</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-uniop"><span>trans-uniop</span></a></li><li><a href="blancas.eisen.trans.html#var-trans-val"><span>trans-val</span></a></li><li><a href="blancas.eisen.trans.html#var-val-binding"><span>val-binding</span></a></li><li><a href="blancas.eisen.trans.html#var-val-binding-letrec"><span>val-binding-letrec</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>blancas.eisen.trans documentation</h2><pre class="doc">The Eisen Translator.
</pre><div class="public" id="var-add-auto-decl"><h3>add-auto-decl</h3><div class="usage"><code>(add-auto-decl key decl)</code></div><pre class="doc">Adds a use declaration to run upon declaring an Eisen module.
</pre></div><div class="public" id="var-add-decl-trans"><h3>add-decl-trans</h3><div class="usage"><code>(add-decl-trans key trans)</code></div><pre class="doc">Adds a translator function from a declaration AST to Clojure code,
assigned to the supplied key.</pre></div><div class="public" id="var-add-expr-trans"><h3>add-expr-trans</h3><div class="usage"><code>(add-expr-trans key trans)</code></div><pre class="doc">Adds a translator function from an expression AST to Clojure code,
assigned to the supplied key.</pre></div><div class="public" id="var-clazz%3F"><h3>clazz?</h3><div class="usage"><code>(clazz? s)</code></div><pre class="doc">Tests if a symbol refers to a Java class.
</pre></div><div class="public" id="var-code-hook"><h3>code-hook</h3><div class="usage"></div><pre class="doc">A transformation of the generated code.
</pre></div><div class="public" id="var-conj-rev"><h3>conj-rev</h3><div class="usage"><code>(conj-rev x coll)</code></div><pre class="doc">A version of conj with the arguments reversed.
</pre></div><div class="public" id="var-error"><h3>error</h3><div class="usage"><code>(error pos fmt &amp; more)</code></div><pre class="doc">Composes an error message.
</pre></div><div class="public" id="var-eval-ast"><h3>eval-ast</h3><div class="usage"><code>(eval-ast ast)</code></div><pre class="doc">Translates and evaluates an AST; returns a vector with the
generated code and the result of the evaluation.</pre></div><div class="public" id="var-exp"><h3>exp</h3><div class="usage"><code>(exp x n)</code></div><pre class="doc">Implements the power-of (**) operator.
</pre></div><div class="public" id="var-fun-binding"><h3>fun-binding</h3><div class="usage"><code>(fun-binding {:keys [name params value]})</code></div><pre class="doc">Translates a function binding.
</pre></div><div class="public" id="var-fun-binding-letrec"><h3>fun-binding-letrec</h3><div class="usage"><code>(fun-binding-letrec {:keys [name params value]})</code></div><pre class="doc">Translates a function binding in a letrec expression.
</pre></div><div class="public" id="var-function%3F"><h3>function?</h3><div class="usage"><code>(function? v)</code></div><pre class="doc">Tests if the var is a function or macro. If there's no root
binding we assume that is a forward-declared function.</pre></div><div class="public" id="var-make-ref"><h3>make-ref</h3><div class="usage"><code>(make-ref s)</code></div><pre class="doc">Encodes a reference to a local symbol.
</pre></div><div class="public" id="var-trans"><h3>trans</h3><div class="usage"><code>(trans coll)</code></div><pre class="doc">Translates and evaluates a collection of top-level ASTs.
Returns a map with the following fields:
:ok     true on success; false otherwise
:value  if ok, the value of the last form
:decls  if ok, a vector of Clojure forms
:error  if not ok, the error or warning message</pre></div><div class="public" id="var-trans-ast"><h3>trans-ast</h3><div class="usage"><code>(trans-ast ast)</code></div><pre class="doc">Translates a collection of AST maps into unevaluated Clojure forms.
</pre></div><div class="public" id="var-trans-binding"><h3>trans-binding</h3><div class="usage"><code>(trans-binding ast)</code></div><pre class="doc">Parses a val or fun binding.
</pre></div><div class="public" id="var-trans-binding-letrec"><h3>trans-binding-letrec</h3><div class="usage"><code>(trans-binding-letrec ast)</code></div><pre class="doc">Parses a val or fun binding in a letrec expression.
</pre></div><div class="public" id="var-trans-bindings"><h3>trans-bindings</h3><div class="usage"><code>(trans-bindings coll)</code></div><pre class="doc">Translates a collection of val or fun bindings.
</pre></div><div class="public" id="var-trans-binop"><h3>trans-binop</h3><div class="usage"><code>(trans-binop ast)</code></div><pre class="doc">Translates the application of a binary operator.
</pre></div><div class="public" id="var-trans-cond"><h3>trans-cond</h3><div class="usage"><code>(trans-cond ast)</code></div><pre class="doc">Translates a conditional expression.
</pre></div><div class="public" id="var-trans-expr"><h3>trans-expr</h3><div class="usage"><code>(trans-expr ast)</code></div><pre class="doc">Translates an AST into a Clojure expression.
</pre></div><div class="public" id="var-trans-exprs"><h3>trans-exprs</h3><div class="usage"><code>(trans-exprs coll)</code></div><pre class="doc">Translates a collection of ASTs into Clojure expressions.
</pre></div><div class="public" id="var-trans-fun"><h3>trans-fun</h3><div class="usage"><code>(trans-fun {:keys [name params value]})</code></div><pre class="doc">Translates an AST into a Clojure function definition.
</pre></div><div class="public" id="var-trans-funcall"><h3>trans-funcall</h3><div class="usage"><code>(trans-funcall name args)</code></div><pre class="doc">Translates a function call.
</pre></div><div class="public" id="var-trans-funlit"><h3>trans-funlit</h3><div class="usage"><code>(trans-funlit {:keys [params value]})</code></div><pre class="doc">Translates an AST into a Clojure anonymous function.
</pre></div><div class="public" id="var-trans-fwd"><h3>trans-fwd</h3><div class="usage"><code>(trans-fwd {:keys [decls]})</code></div><pre class="doc">Translates an AST into a Clojure forward declaration.
</pre></div><div class="public" id="var-trans-idarg"><h3>trans-idarg</h3><div class="usage"><code>(trans-idarg {:keys [value pos]})</code></div><pre class="doc">Translates a reference to an identifier as an argument.
</pre></div><div class="public" id="var-trans-identifier"><h3>trans-identifier</h3><div class="usage"><code>(trans-identifier {:keys [value pos]})</code></div><pre class="doc">Translates a reference to an identifier.
</pre></div><div class="public" id="var-trans-imp"><h3>trans-imp</h3><div class="usage"><code>(trans-imp {:keys [name qualify]})</code></div><pre class="doc">Translates an AST into a Clojure use or require call.
</pre></div><div class="public" id="var-trans-let"><h3>trans-let</h3><div class="usage"><code>(trans-let {:keys [decls exprs]})</code></div><pre class="doc">Translates a let expression.
</pre></div><div class="public" id="var-trans-letrec"><h3>trans-letrec</h3><div class="usage"><code>(trans-letrec {:keys [decls exprs]})</code></div><pre class="doc">Translates a letrec expression.
</pre></div><div class="public" id="var-trans-macrocall"><h3>trans-macrocall</h3><div class="usage"><code>(trans-macrocall name args)</code></div><pre class="doc">Translates a call to a macro.
</pre></div><div class="public" id="var-trans-mod"><h3>trans-mod</h3><div class="usage"><code>(trans-mod ast)</code></div><pre class="doc">Translates an AST into a Clojure namespace call.
</pre></div><div class="public" id="var-trans-setqex"><h3>trans-setqex</h3><div class="usage"><code>(trans-setqex {:keys [name value]})</code></div><pre class="doc">Translates a setq statement.
</pre></div><div class="public" id="var-trans-setvex"><h3>trans-setvex</h3><div class="usage"><code>(trans-setvex {:keys [name value]})</code></div><pre class="doc">Translates a setv statement.
</pre></div><div class="public" id="var-trans-uniop"><h3>trans-uniop</h3><div class="usage"><code>(trans-uniop ast)</code></div><pre class="doc">Translates the application of a unary operator.
</pre></div><div class="public" id="var-trans-val"><h3>trans-val</h3><div class="usage"><code>(trans-val {:keys [name value]})</code></div><pre class="doc">Translates an AST into a Clojure var definition.
</pre></div><div class="public" id="var-val-binding"><h3>val-binding</h3><div class="usage"><code>(val-binding ast)</code></div><pre class="doc">Translates a val binding.
</pre></div><div class="public" id="var-val-binding-letrec"><h3>val-binding-letrec</h3><div class="usage"><code>(val-binding-letrec ast)</code></div><pre class="doc">Translates a val binding in a letrec expression.
</pre></div></div></body></html>